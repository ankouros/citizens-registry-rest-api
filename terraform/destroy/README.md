# Φάση Διαγραφής Υποδομής (Destroy Phase)

## Περιγραφή

Η παρούσα φάση αφορά τη **φάση διαγραφής** της υποδομής που δημιουργήθηκε κατά τη φάση εκτέλεσης (deploy phase) της RESTful υπηρεσίας και του υποκείμενου Συστήματος Διαχείρισης Βάσεων Δεδομένων (ΣΔΒΔ).

Στόχος της φάσης αυτής είναι η **πλήρης καταστροφή όλων των πόρων νέφους** που έχουν δημιουργηθεί μέσω του Terraform, διασφαλίζοντας την αποδέσμευση των υπολογιστικών, δικτυακών και λοιπών πόρων που χρησιμοποιήθηκαν για τη φιλοξενία της εφαρμογής.

## Αρχιτεκτονικό Πεδίο

Η φάση **destroy** αφορά **αποκλειστικά** την αποδέσμευση των υποδομών IaaS που
δημιουργήθηκαν στις προηγούμενες φάσεις. Δεν σχετίζεται με διαδικασίες
διάθεσης/εκτέλεσης λογισμικού, αλλά με τον **καθαρισμό του περιβάλλοντος
υποδομής** με ασφαλή και επαναλήψιμο τρόπο.

## Λειτουργία της Φάσης

Η φάση διαγραφής βασίζεται στον ενσωματωμένο μηχανισμό διαχείρισης κύκλου ζωής του Terraform. Το Terraform διατηρεί την κατάσταση (state) της υποδομής και γνωρίζει με ακρίβεια όλους τους πόρους που έχουν δημιουργηθεί, καθώς και τις εξαρτήσεις μεταξύ τους.

Κατά την εκτέλεση της φάσης διαγραφής:

1. Το Terraform αναγνωρίζει όλους τους πόρους που έχουν δημιουργηθεί κατά τη φάση εκτέλεσης, όπως:
   - Στιγμιότυπα εικονικών μηχανών για τη RESTful υπηρεσία.
   - Στιγμιότυπο εικονικής μηχανής για το ΣΔΒΔ.
   - Εξισορροπητή φορτίου.
   - Υποδίκτυα, εικονικό δίκτυο (VPC) και κανόνες ασφάλειας.
2. Οι πόροι καταστρέφονται με τη σωστή σειρά, λαμβάνοντας υπόψη τις μεταξύ τους εξαρτήσεις.
3. Με την ολοκλήρωση της διαδικασίας, δεν παραμένει κανένας ενεργός πόρος νέφους που να σχετίζεται με την εφαρμογή.

## Εκτέλεση

Η φάση διαγραφής υλοποιείται μέσω της εντολής `terraform destroy` στον φάκελο της φάσης εκτέλεσης (deploy), όπου βρίσκεται το state της υποδομής.
Ο φάκελος `destroy` περιέχει τεκμηρίωση της φάσης και όχι ξεχωριστά μοντέλα υποδομής, καθώς το Terraform υποστηρίζει εγγενώς τη φάση διαγραφής μέσω του lifecycle του.
Η εκτέλεση της φάσης διαγραφής πραγματοποιείται μέσω της ακόλουθης εντολής:

```bash
terraform destroy
```
