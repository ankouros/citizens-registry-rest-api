# Φάση Εκτέλεσης Υποδομής (Deploy Phase)

## Περιγραφή

Η παρούσα φάση αφορά τη **φάση εκτέλεσης** της διαδικασίας διαχείρισης της RESTful υπηρεσίας και του υποκείμενου Συστήματος Διαχείρισης Βάσεων Δεδομένων (ΣΔΒΔ) μέσω των υποκείμενων πόρων νέφους, σύμφωνα με τις αρχές της Υποδομής ως Κώδικα (Infrastructure as Code – IaC) και το πλαίσιο Terraform.

Κατά τη φάση αυτή πραγματοποιείται η **πλήρης διάταξη της εφαρμογής στο υπολογιστικό νέφος**, αξιοποιώντας την εικόνα εικονικής μηχανής (AMI) που παρήχθη στη φάση προετοιμασίας.

## Αρχιτεκτονικό Πεδίο

Η φάση **deploy** εστιάζει στη **διάταξη των πόρων IaaS** (VMs, VPC, subnets,
κανόνες ασφάλειας (security groups), εξισορροπητής φορτίου). Η AMI που χρησιμοποιείται προέρχεται από τη
φάση **prepare** και περιλαμβάνει **μόνο runtime περιβάλλον**, γεγονός που
τεκμηριώνει ότι η **παράδοση/εκτέλεση της εφαρμογής** δεν αποτελεί αντικείμενο
της εκφώνησης αλλά συνειδητή οριοθέτηση του αρχιτεκτονικού πεδίου.

## Αρχιτεκτονική Διάταξη

Η αρχιτεκτονική της εφαρμογής που υλοποιείται στη φάση εκτέλεσης αποτελείται από τα ακόλουθα στοιχεία:

- **Τρία (3) στιγμιότυπα εικονικών μηχανών** για τη RESTful υπηρεσία.
- **Ένα (1) στιγμιότυπο εικονικής μηχανής** για το Σύστημα Διαχείρισης Βάσεων Δεδομένων (ΣΔΒΔ).
- **Έναν εξισορροπητή φορτίου (Load Balancer)**, ο οποίος κατανέμει τα εισερχόμενα αιτήματα στα στιγμιότυπα της RESTful υπηρεσίας.
- **Ιδιωτικό υποδίκτυο (private subnet)**, στο οποίο φιλοξενούνται τα στιγμιότυπα της RESTful υπηρεσίας και του ΣΔΒΔ.
- **Δημόσιο υποδίκτυο (public subnet)**, στο οποίο φιλοξενείται ο εξισορροπητής φορτίου.

Η επικοινωνία μεταξύ των επιμέρους στοιχείων ελέγχεται μέσω κατάλληλων κανόνων ασφάλειας (security groups), σύμφωνα με την αρχή της ελάχιστης απαραίτητης πρόσβασης (least privilege).

## Λειτουργία της Φάσης

Η φάση εκτέλεσης περιλαμβάνει τα ακόλουθα βήματα:

1. Δημιουργείται ένα **ιδιωτικό εικονικό δίκτυο (VPC)** με διακριτά δημόσια και ιδιωτικά υποδίκτυα.
2. Δημιουργούνται τα απαραίτητα **στιγμιότυπα εικονικών μηχανών**:
   - Ένα στιγμιότυπο για το ΣΔΒΔ.
   - Τρία στιγμιότυπα για τη RESTful υπηρεσία, τα οποία βασίζονται στην εικόνα (AMI) που παρήχθη στη φάση προετοιμασίας.
3. Δημιουργείται ένας **εξισορροπητής φορτίου**, ο οποίος δέχεται αιτήματα από το διαδίκτυο και τα προωθεί στα στιγμιότυπα της RESTful υπηρεσίας.
4. Ορίζονται **κανόνες πρόσβασης** που επιτρέπουν:
   - Την πρόσβαση στον εξισορροπητή φορτίου από το διαδίκτυο.
   - Την επικοινωνία του εξισορροπητή φορτίου με τα στιγμιότυπα της RESTful υπηρεσίας.
   - Την επικοινωνία της RESTful υπηρεσίας με το ΣΔΒΔ.
5. Διασφαλίζεται ότι το ΣΔΒΔ **δεν είναι απευθείας προσβάσιμο από το διαδίκτυο**.

## Αποτελέσματα

Με την επιτυχή ολοκλήρωση της φάσης εκτέλεσης επιτυγχάνονται τα εξής:

- Η RESTful υπηρεσία εκτελείται σε τρία ανεξάρτητα στιγμιότυπα εικονικών μηχανών.
- Τα αιτήματα προς την υπηρεσία κατανέμονται ισομερώς μέσω του εξισορροπητή φορτίου.
- Η υπηρεσία επικοινωνεί με το υποκείμενο ΣΔΒΔ μέσω ιδιωτικού δικτύου.
- Η υποδομή είναι πλήρως αυτοματοποιημένη και αναπαραγώγιμη μέσω Terraform.

## Εκτέλεση

Για την εκτέλεση της φάσης εκτέλεσης απαιτείται η προηγούμενη ολοκλήρωση της φάσης προετοιμασίας και η διάθεση του αναγνωριστικού της εικόνας (AMI ID) της RESTful υπηρεσίας.

Η εκτέλεση πραγματοποιείται με τις ακόλουθες εντολές:

```bash
terraform init
terraform apply
```
